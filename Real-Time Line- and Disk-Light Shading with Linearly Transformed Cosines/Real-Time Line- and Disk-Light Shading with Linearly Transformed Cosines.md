---
title: Real-Time Line- and Disk-Light Shading with Linearly Transformed Cosines [@Heitz2017]
---
# Real-Time Line- and Disk-Light Shading with Linearly Transformed Cosines

# はじめに

# はじめに

昨年: **LTC**を用いたリアルタイム多角形ライトのシェーディング

Real-Time Polygonal-Light Shading with Linearly Transformed Cosines (理論)
Real-Time Area Lighting: a Journey from Research to Production (実践)

# はじめに

今年: LTCを用いたリアルタイムエリアライトの新種

# はじめに

昨年: 多角形に対するLTCの積分

そのシェーディングはライトによってカバーされる球面領域[spherical domain]上でのBRDFの積分の計算である。LTCの主な特性は球面の多角形上で解析的に積分できることである。これは、多角形ライトのシェーディングのための有用なツールとなる。

これは直観とLTCの式がどのようにして発明されたかを示す。我々は多角形光源上で積分しやすいであろうことを確実にするためにこの分布を作り上げた。この分布はこの固有のライトタイプに対するものであることを元来は意味していた。

# はじめに

今年: その他のプリミティブに対するLTC積分

より多くのライトタイプをサポートするため、我々はLTCが他の種類の球面領域上で積分することもできるかどうかを調査しなければならなかった。

このスライドでは、我々はラインライトの場合を確認できる。これは、球面の線分を生成する。線分は概念的に多角形に近く、すなわち、多数ではなく2つの頂点で定義されるが、線上でLTCを積分することは多角形上と同様の方法では行えない。

我々はこのケースのための解析的な積分の式を解くことができた。これは、多角形に対する積分の式のように見えるが、幾分か異なる。

# はじめに

今年: 他のプリミティブに対するLTC積分

球やディスクのライティングの場合、考慮すべき球面鏡域は球面の楕円である。この問題は多角形や線に対するそれと非常に似ているように見えるのだが、球面の楕円はある種の非常に難しい計算を伴う。

この場合では、我々は厳密な解析的な積分の式を見つけることができなかったが、十分に正確なものを解いた。

# はじめに

このトークの構成

- LTCの復習(さらなる詳細は昨年の資料を参照のこと)
- ラインライト
- 球/ディスクライト

# LTCの復習

# LTCの復習

LTCがどのように定義されるかを理解するために、我々は以下の直観を用いる。球面分布はこの分布から選択できるサンプルの無限集合と等価である。

- 球面分布を持つならば、この分布における無数のサンプルを生成できる。
- 無数のサンプルを持つならば、任意の精度にその分布を再構築できる。

分布とサンプルは説明の仕方が異なるだけで同じ数学的対象[mathematical object]である。

注意: 図示するために、図には5つのサンプルだけを描いたが、概念的に我々はサンプルの無限集合について話していることを覚えていて欲しい。以下では、$5=\infty$と単に仮定する。 :-)

# LTCの復習

これらは同じ対象であるので、片方を変更すればもう一方も変化する。分布のパラメータを変更すれば、サンプルはそれに従う。対称的に、サンプルを動かせば、再構築される分布はそれに従う。

分布とサンプルは同じ数学的対象の二重の説明であるので、分布に関連する特性は通常サンプルに関連する二重の特性を持つことを意味し、逆もまた真である。

LTCのアイデアはサンプルの方向、それ即ち、分布を変更する線形変換(3x3行列)を用いることである。

# LTCの復習

まず、我々はこの古典的なコサイン分布から始める。この図では、線形変換の効果を可視化することを用意にするために5つのサンプルを重ね書きした。

# LTCの復習

xy平面上のみのスケーリング変換を適用する場合、サンプルが分布の平均の方向に向かって集まってゆくことを確認できる。これはコサインから始めてPhong的な分布を作る方法である。

可視化を促すため、同じ線形変換を適用させている単位立方体も示す。

# LTCの復習

xとy方向に異なる大きさでスケーリング変換を適用すると、サンプルがひとつの方向にさらに集まってゆくことを確認できる。これは、分布の異方性を引き起こす。

# LTCの復習

せん断[shear]変換を適用すると、分布のある側ではサンプルを広げ、その反対側ではサンプルを集める。これは分布のskewnessを引き起こしている。

# LTCの復習

最後に、ランダム行列でこれらすべての効果を組み合わせることによって、おかしな形状を持つ洗練された球面分布を作ることができる。

# LTCの復習

この定義により、Linearly Transformed Cosinesは物理ベースBRDF、特にこんにちの多くのゲームエンジンで使われるGGXのそれを効率的に近似するのに使える広い表現の幅[wide appearance space]を提供する。もちろん、その近似は完璧ではないが、様々なラフネスや入射光の構成に対してBRDFの主な特徴を再現する。

# LTCの復習

この定義から、多角形上でLTCを積分するためのアルゴリズムも得る。$M$がコサインからこのLTC分布を得るために用いる線形変換である場合、LTC分布と多角形の両方に逆線形変換$M^{-1}$を適用する。オリジナルのコサインと新しい多角形を得る。

# LTCの復習

その重要な特性は多角形上のLTCの積分がちょうど$M^{-1}$で変換された多角形の積分とそのコサインとなることである。これは、解析的に計算できる(これは新しい多角形の放射照度であり、このための閉形式が存在する)。

これが昨年発表した通りのLTCの復習である。

この時点で、未解決の問題は、他のライトタイプに対して似たような事をできるか、であった。

# ラインライト

# ラインライト

TODO
