# #25 --- Path Tracing, Next Event Estimation

## パストレーシング(Path tracing)

パストレーシングは、レンダリング方程式をモンテカルロ法により解こうとするレイトレーシングのいち手法である。反射するレイは乱数により決められた1本のみが跳ね返るため、計算時間の爆発的増加は起こらないが、計算コストは比較的大きい。

パストレーシングで得られる結果は、直接見ている物体が発光するものを除けば、他すべてはトレースにより集められたradianceである。
すなわち、光源にたどり着く経路のみが寄与(contribution)を持ち込むことになり、光源にたどり着かない経路は放射輝度が0になるため、その計算時間がまるまる無駄になってしまう。
同じように考えると、光源の大きさが小さくなれば、結果の収束時間がより長くなると予想できる。極端に言えば、大きさを持たない点光源ではまったくもってレイがたどり着かず、どれだけ時間をかけても点光源による寄与はすべて0のままである。

### Next Event Estimation

この問題には、各交差ごとにその点における各光源の直接的な影響を計算することで対処する。つまり、各交差点で各光源へshadow rayを放ち、何にも遮蔽されていなければ、その光源の寄与を計算に含めることで光源の影響を明示的に受けることができるようになる。

## 用語

寄与(contribution)
: 光源の影響具合。[?]

## 英語表現

- corollary /kˈɔːrəlèri(米国英語), kərˈɔləri(英国英語)/
  - [名] 自然に導き出せる結論、必然的結果
  - [名] 【数学】系

- convergence /kənvˈɚːdʒəns(米国英語)/
  - [名] 【数学】収束

- vain /veɪn(米国英語)/
  - [形] うぬぼれの強い、無益な、空虚な
  - in vain
    - いたずらに、効果なく
    - 「水泡に帰す」


## 参考文献

- https://www.slideshare.net/shocker_0x15/ss-52688052
- http://mitsuba.wiki.fc2.com/wiki/%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0%E6%96%B9%E5%BC%8F
- http://rayspace.xyz/CG/contents/path_tracing.html
- http://www.cs.dartmouth.edu/~cs77/slides/18_PathTracing.pdf
