# #31 --- Unbiased, Consistent Algorithm Classes

## pbrt

[pbrt](http://pbrt.org/)は物理ベースレイトレーシングのリファレンス実装である。

### アーキテクチャの概要

`Sampler`はBRDFのサンプリングや出射光の方向の決定などに使われる乱数を生成する。
`Camera`は定義されたカメラの状態をもとに、放つべき`Ray`を生成する。
`Integrator`は`Ray`をシミュレーションし、radianceを収集する。
計算したradianceは`Film`に書き込まれる。

## LuxRender

物理ベースかつ不偏(unbiased)であるレンダラ。
発端として、pbrtをそのベースとしている。

## GIアルゴリズムの種類

### consistent

consistentな(解が求まる?)アルゴリズムは無限量のサンプリング(または無限時間)によって真の解に収束する。ただしそれは"遅かれ早かれ"であって、いつ収束するかは何とも言えない。

### unbiased

unbiasedなアルゴリズムは、サンプル数$N$にかかわらず、推定誤差の期待値が0になる。
unbiasedなアルゴリズムで得られた結果は、その複数を平均することで品質を向上させることができる。これにより分散処理が可能になる。
このアルゴリズムでは、常に被積分関数を過大及び過小推定する可能性が同等に存在する。
系統誤差(systematic error)が存在しない場合、正しい画像との偏差は分散によってのみ発生する。すなわち、発生するノイズの原因はひとえにサンプル数不足であると言える。

### 比較

consistentなアルゴリズムは、時間をかければ真の解に到達するが、誤差は試行のたびに変化するため予測しづらい。
unbiasedなアルゴリズムは、レンダリングすればするほど品質が良くなる(正確には、少なくとも悪くはならない)ことが保証されているため、誤差の変化が予測しやすい。

## 用語

不偏(unbiased)レンダリング
: あらゆるショートカットを許容しないレンダリングのこと。
  例えば、バウンス回数を制限したり適応的に処理したりなど、偏った(biased)処理を行わない。

## 英語表現

- consistent /kənsístənt(米国英語)/
  - [形] 首尾一貫した、矛盾のない、(=無撞着)

## 参考文献

- https://labs.chaosgroup.com/index.php/rendering-rd/the-truth-about-unbiased-rendering/
