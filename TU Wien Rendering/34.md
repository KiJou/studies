# 34 --- SDS Transport, Photon Mapping

## SDS Transport Problem

鏡に映ったdiffuse面に投影されるコースティクスを見るとき、その経路はおおよそ`LSDSE`になる。
このとき双方向パストレーシングなどでは、経路`SDS`を通るパスがほとんど発生しない、という問題が発生する。これは、光源またはカメラに到達するためには、diffuse面で反射した光がspecular面のある1点に正確に来なければならず、すべての方向に一定確率で反射するdiffuse面では、その1点に向かう確率は限りなく0に近づいてしまうためである。[要出典]

## Photon Mapping, 1996

この手法では、起こりうるすべてのlight pathを評価するのではなく、光源から放たれたフォトン(photon)を記録したフォトンマップを生成し、そこから最終画像を補間により合成する。

causticsや間接照明の収束が早く、高周波ノイズが素早く収まるが、詳細なフォトンマップの格納は極めてメモリ集約的である。また、補間を行う関係上、非連続な部分では意図しない色が現れる可能性がある。

このアルゴリズムは補間処理を用いるためbiasedである。また、無限のフォトンを処理できれば補間による誤差は0になるので、理論的にはconsistentである。

## 用語

アーティファクト(artifact)
: 人工物。
  3DCGなどでは、(一般に、好ましくない)画像の乱れを指す。

## 英語表現

- bane /béɪn(米国英語)/
    - 破滅のもと、災い

## 参考文献

- http://reedbeta.com/blog/new-ideas-in-raytracing/
- https://www.slideshare.net/ssuser2848d3/ss-25795852
